<!DOCTYPE html>
<html lang="pt-BR">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<head>
  <meta charset="UTF-8">
  <title>Extrair Países e Competições</title>
</head>
<body>
  <textarea id="entrada" rows="20" cols="80" placeholder="Cole aqui o texto grande..."></textarea>
  <br><br>
  <button onclick="extrair()">Extrair Países e Competições</button>
  <br><br>
  <textarea id="saida" rows="20" cols="80" readonly placeholder="Resultado aparecerá aqui..."></textarea>

  <script>
    function extrair() {
      const texto = document.getElementById("entrada").value;
      const linhas = texto.split("\n").map(l => l.trim()).filter(l => l !== "");

      const ignorar = ["Casa", "Emp.", "Fora"]; 
      const padraoCompeticao = /(Liga|League|Copa|Cup|Série|Serie|Divisão|Division|Superliga|National|Championship|Amistoso|Friendly|Ekstraklasa|Bundesliga|LaLiga|Premier|Pro)/i;

      const resultados = [];

      for (let i = 0; i < linhas.length; i++) {
        const linha = linhas[i];

        if (ignorar.includes(linha)) continue; // descarta colunas
        if (/^\d/.test(linha)) continue; // descarta odds, datas
        if (/ [A-Z]{2,3}$/.test(linha)) continue; // descarta times com siglas
        if (linha === "") continue;

        // se a linha for seguida de "Casa", é título (país ou competição)
        if (linhas[i+1] && linhas[i+1] === "Casa") {
          if (!resultados.includes(linha)) resultados.push(linha);
        }
        // ou se parecer nome de competição
        else if (padraoCompeticao.test(linha)) {
          if (!resultados.includes(linha)) resultados.push(linha);
        }
      }

      // numerar saída no formato "Nome" //N,
      const resultadoNumerado = resultados.map((c, i) => `"${c}" //${i+1},`);

      document.getElementById("saida").value = resultadoNumerado.join("\n");
    }
  </script>
</body>
</html>
